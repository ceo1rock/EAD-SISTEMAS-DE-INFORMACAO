<html>
<body>
<script>
"APIs - Bibliotecas para desenvolvimento em JavaScript"
// APIS DE NAVEGADOR – MANIPULANDO DOCUMENTOS
// Manipulação de documentos web por meio do DOM(DOCUMENT OBJECT MODEL), conhecer seus métodos e elementos usando JavaScript, e manipular estilos CSS.

    "INTRODUÇÃO" 
// JavaScript é uma linguagem que permitiu que páginas web, antes estáticas, tornassem-se interativas. Por meio de métodos e propriedades do JavaScript, é possível realizar alterações diretamente no documento HTML, manipulando o DOM, que é uma tentativa de padronizar a forma como documentos web são construídos, para que diferentes navegadores e diferentes linguagens de programação consigam lê-los. 

    "INTRODUÇÃO AO DOM"
// É considerado a API fundamental para manipular documentos HTML. 
// Na hierarquia DOM, elementos são representados como uma árvore, e em um documento HTML, as tags representam os nós da árvore. O elemento de nível superior é denominado elemento pai, enquanto os elementos internos são chamados de elementos filhos e os elementos de mesmo nível são chamados de irmãos, conforme Figura 1, que ilustra a árvore DOM de um documento web. As tags HTML representam os nós
"Árvore DOM:"
</script> <script SRC = "01.01 - Figura 1.jpg">

/*
<!DOCTYPE html>
<html>
    <head>
        <title></title>
        <meta>
    </head>
    <body>
        <a></a>
        <p></p>
        <ul>
            <li></li>
        </ul>
    </body>
</html>
*/

    "Introdução a eventos no DOM"
/* No DOM, a janela e os guias de um navegador são representados pelo objeto window, que possui a propriedade document, que representa o conteúdo da janela (FLANAGAN, 2011). Com JavaScript, é possível navegar pela árvore DOM, manipulando elementos e eventos. Em um arquivo HTML, inclua o seguinte código:

<!DOCTYPE html>
<html>
    <head>
        <title>DOM</title>
        <meta charset="utf-8">
    </head>
 
    <body onload="window.alert('Olá, mundo!')"></body>
 
</html>

Ao executar esse código, exibirá a mensagem “Olá, mundo!” em uma caixa de diálogo gerada pelo comando "alert( )".
Poderia ter sido por um script, com o comando alert( ), nesse modulo vamos usar conceitos da manipulação do DOM. 
Utilizamos um atributo HTML para disparar um evento "onload", que é executado no momento que a tag é carregada, como aplicamos à tag body, o evento será disparado imediatamente quando a tag for carregada. 
Um evento ocorre quando algum “gatilho” é disparado, "onload" é um exemplo de gatilhos, pois é disparado quando algo é carregado, mas há muitos outros tipos. 
Os mais comuns são os eventos que envolvem ações do mouse, ações do teclado, ações realizadas em formulários("submit") ou eventos de janela (ex. rolar/"scroll" ou load da page). 
No exemplo apresentado, utilizamos um evento de janela ("window"), e, no caso, o método escolhido foi o "alert()". 
Uma lista completa de eventos e recursos pode ser encontrada aqui: https://mzl.la/3q3kw64. */

    "Manipulando o DOM: escrevendo em um documento"
// Para manipular um documento HTML por meio do DOM, usar o objeto "document" no JavaScript. Utilizar JavaScript para gravar informações diretamente no documento, para isso, criamos um documento HTML, que vamos chamr de “index.html”, e outro arquivo JavaScript, que vamos chamar de “script.js”:
</script><script SRC = "01.04 - index.html">
</script><script SRC = "01.05 - script.js"></script>

01.04 - index.html:
<!DOCTYPE html>
<html>
    <head>
        <title>DOM</title>
        <meta charset="utf-8">
        <script src="01.05 - script.js"></script>
    </head>
    <body>Tudo bem?</body>
</html>

01.05 - script.js: 
document.write("Olá, mundo!")
<script>
/* Note que a mensagem não estava inicialmente presente no documento HTML, mas quando acessamos a ferramenta inspecionar no navegador, podemos perceber que o texto está dentro da tag Body.

Nesse exemplo, usamos o método "write( )" para gravar uma mensagem diretamente no corpo do documento, no script usamos o comando "document.write()" irá gravar antes. 

Podemos definir locais específicos para que as alterações ocorram, é preciso conhecer os métodos de seleção de elementos no DOM. */

"VIDEOAULA: INTRODUÇÃO AO DOM"

    "MÉTODOS E ELEMENTOS DOM"
/* É possível manipular um documento HTML usando JavaScript pelo objeto "document". Usamos o método "write()" para gravar uma mensagem na tela, da forma feita, as mensagens só poderiam ser gravadas no início do texto. Podemos selecionar elementos específicos do DOM por meio de quatro funções:
    "getElementById": seleciona um único elemento com base em seu identificador único (id).
    "getElementsByTagName": seleciona todos os elementos de tags de mesmo nome especificado.
    "getElementsByClassName": seleciona todos os elementos que possuem determinada classe (class).
    "querySelectorAll": seleciona elementos a partir de um seletor CSS.

Figura 2 | Modelo de site bem simples composto por quatro seções: 
(1) cabeçalho (vermelho), 
(2) seção principal de conteúdo (azul)
(3) barra lateral (verde)
(4) rodapé (cinza)

Códigos HTML (responsável pelo arcabouço da página) e CSS (responsável pelos estilos) que geram essa página:*/

</script><script src = "01.07 - index.html">
<link rel="stylesheet" href="01.08 - estilo.css">
</script>

/* Foram utilizados vários tipos distintos de tags e cores nas seções para ilustrar como manipular o DOM usando JavaScript.
O getElementById é usado para selecionar um elemento com base no seu ID. 
Ex.:*/

var logo = document.getElementById('logo')
console.log(logo)

/* Esse código, exibe no console o valor "null", porque declaramos o script antes do elemento, podemos resolver isso alterando a posição de chamada do script. 
Ou usar um evento onload para esperar que todo arquivo HTML esteja carregado para que o script possa começar a executar. 
Preste atenção em como podemos usar esse tipo de evento em um arquivo JS:*/

window.onload = ()=>{
    var logo = document.getElementById('logo')
    console.log(logo)
}
// Resultado no console:
<div id="logo">
    <a>Meu SIte</a>
    </div>

//Ao carregarmos o objeto para uma variável, todo o conteúdo da tag é selecionado e armazenado nela. Uma vez que o objeto é armazenado em uma variável, podemos fazer alterações aplicando um novo valor à propriedade innerText. Veja:

window.onload = ()=>{
    var logo = document.getElementById('logo')
 
    logo.innerText = "Mudando o título"
    console.log(logo)
}

//Ao executarmos esse código, o título da página é substituído
// Dentro desse elemento, havia uma tag que foi removida, e isso aconteceu porque a propriedade innerText permite a alteração apenas do texto. Podemos fazer alterações que permitam a incorporação de códigos HTML usando a propriedade innerHTML:

logo.innerHTML = "<a>Mudando o título</a>"

// O método "getElementsByTagName" permite coletar todos os elementos com um mesmo nome de tag. Por exemplo: em nosso código, temos várias tags <p>, e podemos coletá-las usando:

window.onload = ()=>{
    var tags_p = document.getElementsByTagName('p')
 
    console.log(tags_p)
}
Note que, ao executarmos esse código, o JavaScript retorna um objeto do tipo HTMLCollection, assim como temos na Figura 9.

//Coletando vários elementos:
    "Console:"

HTMLCollection(3) [p.texto, p.texto, p ]
    0: p.texto
    1: p.texto
    2: p
        length: 3
    [[Prototype]]: HTMLCollection

// Podemos manipulá-lo usando um laço de repetição:

window.onload = ()=>{
    var tags_p = document.getElementsByTagName('p')
    for(tag of tags_p){
        console.log(i)
    }
}
// Note que precisamos usar a palavra reservada of para indicar que queremos navegar pelos itens da variável em questão. Observe o resultado:

Navegando por resultados de uma consulta getElementsByTagName
"Console irá exibir:"
<p class="texto"> Bem-vindo ao meu site,</p>
<p class ="texto">Tudo bem?</p>
<p>Barra lateral.</p>

    "getElementsByClassName"
// Código para selecionar elementos com base no nome da classe:

window.onload = ()=>{
    var class_texto = document.getElementsByClassName('texto')
    for(i of class_texto){
        console.log(i)
    }
}

// Assim como o "getElementsByTagName", o método getElementsByClassName retorna uma lista de objetos que podemos manipular usando laços. No exemplo, temos apenas duas tags que recebem a classe “texto”. 
"Veja o que será impresso no console:"

<p class="texto"> Bem-vindo ao meu site,</p>
<p class ="texto">Tudo bem?</p>

// O "querySelectorAll" permite buscas avançadas em seletores CSS:

window.onload = ()=>{
    var p_em_aside = document.querySelectorAll('aside p')
    console.log(p_em_aside[0])
}
//No código acima, recuperamos todas as tags que estão dentro de uma tag (seletor “aside p”). Esse método também retorna uma lista de itens, mas, dessa vez, optamos por coletar o primeiro elemento diretamente, usando colchetes e indicando o índice 0.

"Videoaula: Métodos e elementos DOM"

    "DOM CSS"
// O CSS é a linguagem usada para configuração de estilo/designer da página. O designer é incorporadas à página pela tag, podemos alterar os estilos após o carregamento usando códigos JavaScript. 
// Em aplicações reais, a alteração de estilos pós-carregamento é de vital importância. 
"Exemplo:" 
//No desenvolvendo uma página para cadastro de produtos, ela foi construída a partir de requisições assíncronas, em que, ao enviar o produto, não é necessário recarregar a página, isso ajuda a melhorar a performance do site, uma vez que os servidores não vão precisar enviar todas as informações novamente. 
"Como o usuário do sistema saberá que o envio foi feito?"
// A solução mais simples para isso é exibir uma mensagem de sucesso. Esses componentes visuais são construídos usando-se CSS. Podemos carregá-los para a página usando os métodos e as propriedades da linguagem JavaScript. 
"Observe a sintaxe de como isso pode ser feito:"

[elemento-selecionado].style.[propriedade-css] = [novo-valor]

/*Exemplificação:
Alterar o estilo dos componentes da página criada anteriormente. 
Alterar a cor de fundo da tag de vermelho para roxo.*/

window.onload = ()=>{ 
    // selecionando o objeto:
    var selecionado = document.getElementsByTagName('header');
 
    // pegando apenas o primeiro resultado
    selecionado = selecionado[0];
 
    // alterando a cor do fundo para roxo
    selecionado.style.backgroundColor = 'purple';

}

//A propriedade CSS para alterar a cor de fundo é "background-color", foi utilizado "backgroundColor", pois o JavaScript não permite "-" nos nomes das variáveis. Para alterar propriedades CSS compostas é necessário remover o hífen e colocar em maiúscula a primeira letra da segunda palavra
"Exemplo:" 
PROPRIEDADE CSS     USO NO JS
background-color:   backgroundColor
text-align:         textAlign
font-size           fontSize
// Uma vez feita a seleção, é possível aplicar várias propriedades ao mesmo elemento, como:

// aplicando várias propriedades
selecionado.style.fontSize = '80px'; // aumentar fonte
selecionado.style.color = 'black'; // texto em preto
selecionado.style.width = '50%'; // largura = 50%

/* A propriedade que altera a cor do texto não funcionou pois o texto estar embutido dentro de outra tag (uma div). Há uma propriedade CSS aplicada diretamente a essa div que altera a cor para o branco. 
Para resolver fazemos uma nova seleção, apartir da seleção feita anteriormente. */
"RESOLUÇÃO:"
// selecionando a div de id #logo
var texto_selecionado=selecionado.querySelectorAll('#logo')[0]
 
// muda a cor do texto para preto
texto_selecionado.style.color = 'black';

// Por fim, repare no código a seguir:

var texto_selecionado=selecionado.querySelectorAll('#logo')[0]

"Nele, há dois pontos:"

('#logo'): // símbolo "#" antes do nome buscado, procura por uma "ID"; se estivéssemos buscando uma "classe", usa um ponto/".".
[0]: // Mesmo que a busca retorne apenas um elemento, o método querySelectorAll retorna uma lista de itens, deve indicar pelo índice o elemento que busca.

VIDEOAULA: DOM CSS

"ESTUDO DE CASO"
Crie um site que a cor de fundo mude de acordo com a estação atual. 
Cores de acordo com a estação:
Primavera: #ffd6ef
Verão: #fdf080 
Outono: #c0dd5d 
Inverno: #9dbce3

Cores para as estações. 
Topo-esquerda: primavera #ffd6ef; 
topo-direita: verão: #fdf080; 
rodapé-esquerda: outono: #c0dd5d; 
rodapé-direita: inverno: #9dbce3

O sistema do site foi construído usando-se o framework CodeIgniter em PHP, mas você não precisa se preocupar com a tecnologia usada no back-end, você apenas editará um script chamado “cores.js”, que será incluído na página. 
As estações mudam próximas a essas datas:

22 de setembro: primavera.
21 de dezembro: verão.
20 de março: outono.
21 de junho: inverno.
É preferível fazer a alteração na mudança de meses.

Dica:
Você pode obter a data em JavaScript usando a função Date(). Você deve instanciar um novo objeto para receber Date(). 
Dessa forma: 
var data = new Date();
// Dia, mês e ano podem ser coletados do novo objeto usando-se os métodos getDate(), getMonth() e getFullYear(), respectivamente (ele retorna meses de 0 a 11).

    "RESOLUÇÃO DO ESTUDO DE CASO"
/*Para solucionar obter a data atual, pegar o número correspondente ao mês e, em seguida, verificar qual o mês atual para definir a cor que será aplicada à página. 
Por fim, alterar a cor de fundo da página modificando a propriedade background-color usando o seletor do body. */
"Veja como implementar isso:"

// data atual
var data = new Date();
var dia = data.getDate();
var mes = data.getMonth()+1; 
var ano = data.getFullYear();
 
// estação = [mes]
var outono = 3;
var inverno = 6;
var primavera = 9;
var verao = 12;
 
var cor; // nenhuma cor definida
 
// outono
if((mes >= outono)&&(mes < inverno)){
    cor = "#c0dd5d";
}
// inverno
else if((mes >= inverno)&&(mes < primavera)){
    cor = "#9dbce3";
}
// primavera
else if((mes >= primavera)&&(mes < verao)){
    cor = "#ffd6ef";
}
// verão
else if(((mes >= 1)&&(mes < outono))||(mes==12)){
    cor = "#fdf080";
}
 
// alterando a cor do background
document.body.style.backgroundColor = cor;

Coletamos o mês atual
Indicamos o número do mês de cada estação
Definir qual a cor correspondente a cada mês. 

"Resolução do Estudo de Caso"